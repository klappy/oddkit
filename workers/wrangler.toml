# oddkit MCP Worker
# Exposes oddkit as a remote MCP server for Claude.ai

name = "oddkit-mcp"
main = "src/index.ts"
compatibility_date = "2025-01-01"
compatibility_flags = ["nodejs_compat"]

# Environment variables
[vars]
BASELINE_URL = "https://raw.githubusercontent.com/klappy/klappy.dev/main"
ODDKIT_VERSION = "0.9.1"

# OAuth configuration (set via wrangler secret)
# OAUTH_CLIENT_ID = ""
# OAUTH_CLIENT_SECRET = ""

# Optional: Durable Objects for session state
# [durable_objects]
# bindings = [
#   { name = "SESSIONS", class_name = "SessionState" }
# ]

# Optional: KV for caching baseline index
# [[kv_namespaces]]
# binding = "BASELINE_CACHE"
# id = "your-kv-namespace-id"
